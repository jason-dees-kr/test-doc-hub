# Breaking Changes 

## Problem

What is a good policy for communicating and implementing breakin changes to our scenario models?

## Proposal

### Change Management

### Steps that cause a break

1. Local update to a schema in Schema Registry
1. Open PR for the update
1. Review PR for the update
	- Communication should be prepared here
	- Communication gets launched here?
	- Need to communicate to downstream consumers (adobe and others), front end teams, report consumers, report creators, who else?
		- We need a way to track this. We are very myopic towards Adobe currently, and also probably our most important consumer. 
1. Merge PR for the update into Schema Registry
	- It's essentially 'live' at this point
1. Update SDK (either by hand [banner V0], or generated [everybody else])
1. Update app with latest version of SDK
	- This is where breaking changes would stop the deployment of the app
	- Front end teams would do this
1. Fix issues that were caused by the SDK update in the app

## Classic Proposed Solution

All of these include communication to stakeholders, on a per app basis, everyone in BDA, everyone in KAT, everyone in Model Behavior. All banner teams, all instock teams, all KHX teams, etc. As we implement inherited schema across Kroger, these changes will cascade to more and more teams. Inherited schema actually makes this _harder_.

We should come up with a public change policy that we can point users towards. We should define what constitutes a `breaking change` and a `non-breaking change`.

Breaking Changes would show as warnings in the applications, generated by scenario poet from the schemas where this is documented. Data Dictionary would also show breaking change from the schema.

Information would include:

- What is happening
	- Scenario, property, enumerated value being changed, removed, required 
- Why it is happening
	- The value this brings to the app teams individually and Kroger as a whole
- Date that the change will fully take effect
	- Unless otherwise noted, this change will have to be done over a long period of time
	- There can be exceptions for stuff like PII/PHI data, immediate reporting needs delegated from on-high

This would apply mostly to scaled apps, but we can try to apply it to banner too.

This would have to be done before merging in the breaking change to Schema Registry. We must be ready with the communication, calendar reminders to actually remove the deprecation, high level migration path.